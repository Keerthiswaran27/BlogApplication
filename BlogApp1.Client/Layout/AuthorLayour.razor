@inherits LayoutComponentBase
<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<MudLayout>
    <MudAppBar  Fixed="true" Class="app-bar-css">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />

        <MudText Typo="Typo.h4" Style="font-family:'Baskerville Old Face'; font-weight:500">MiddleMan</MudText>
        <MudSpacer/>
        <MudText Typo="Typo.h6">@role</MudText>
        <MudIconButton Icon="@Icons.Material.Filled.Notifications" Class="icon-color" Href="/reader/notifications"></MudIconButton>
        <MudMenu Icon="@Icons.Material.Filled.AccountCircle" Class="icon-color" AnchorOrigin="Origin.BottomRight" TransformOrigin="Origin.TopRight">
            <MudMenuItem Href="/reader/profile">Profile</MudMenuItem>
            <MudMenuItem Href="/reader/logout">Logout</MudMenuItem>
        </MudMenu>
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Variant="DrawerVariant.Mini" Elevation="1" ClipMode="DrawerClipMode.Always" MiniVariantWidth="56px" Width="180px" class="drawer-css">
        <MudNavMenu Class="mt-5">
            <MudNavLink Href="/reader" Icon="@Icons.Material.Filled.Home" Match="NavLinkMatch.All" Class="custom-icon">
                @if (_drawerOpen)
                {
                    <span>Home</span>
                }
            </MudNavLink>

            <MudNavLink Href="/reader/search" Icon="@Icons.Material.Filled.Search" Class="custom-icon">
                @if (_drawerOpen)
                {
                    <span>Search</span>
                }
            </MudNavLink>

            <MudNavLink Href="/reader/library" Icon="@Icons.Material.Filled.LibraryBooks" Class="custom-icon">
                @if (_drawerOpen)
                {
                    <span>Library</span>
                }
            </MudNavLink>

            <MudNavLink Href="/reader/profile" Icon="@Icons.Material.Filled.AccountCircle" Class="custom-icon">
                @if (_drawerOpen)
                {
                    <span>Profile</span>
                }
            </MudNavLink>

            <MudNavLink Href="/reader/logout" Icon="@Icons.Material.Filled.Logout" Class="custom-icon">
                @if (_drawerOpen)
                {
                    <span>Logout</span>
                }
            </MudNavLink>

        </MudNavMenu>
    </MudDrawer>

    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>
@code {
    bool _drawerOpen = true;
    private string role = "Reader";
    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}

<style>
    .app-bar-css{
        background: linear-gradient(135deg,#C7D2FE,#E9D5FF);
        color:black;
    }
    .mud-drawer{
        color:black;
    }
    .mud-icon-root {
        color: black;
    }
    .custom-icon .mud-icon-root {
        color: #0a2340 !important;
    }
    
    .mud-nav-link.active {
        color: #24609c !important;
    }
    .drawer-css
    {
        background-color: #EDE9Ff;
    }
</style>